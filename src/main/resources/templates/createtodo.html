<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link active" aria-current="page" href="createtodo">Create Todo</a>
                <a class="nav-link" href="viewtodos">View Todos</a>
            </div>
        </div>
    </div>
</nav>
<form action="/createtodo" method="post" onsubmit="return validateForm()" th:object="${todo}">
    <input type="hidden" name="id" th:field="*{id}">
    <div class="row mb-3">
        <label for="description" class="col-sm-2 col-form-label col-form-label-sm" >Description</label>
        <div class="col-sm-10">
            <input type="text" class="form-control form-control-sm" id="description" name="description" placeholder="Enter description" th:field="*{description}" required>
        </div>
    </div>

    <div class="row mb-3">
        <label for="dateTime" class="col-sm-2 col-form-label col-form-label-sm">Date and Time</label>
        <div class="col-sm-10">
            <input type="text" class="form-control form-control-sm" id="dateTime" name="dateTime" placeholder="Enter date and time" th:field="*{dateTime}"  required>
        </div>
    </div>

    <div class="row mb-3">
        <label for="priority" class="col-sm-2 col-form-label col-form-label-sm">Priority</label>
        <div class="col-sm-10">
            <input type="text" class="form-control form-control-sm" id="priority" name="priority" placeholder="Enter priority" th:field="*{priority}" required>
        </div>
    </div>
    <input type="submit" value="Submit">
</form>

<script>
    function validateForm() {
        const description = document.getElementById('description').value;
        const dateTime = document.getElementById('dateTime').value;
        const priority = document.getElementById('priority').value;

        // Check if any of the fields is empty
        if (description.trim() === '' || dateTime.trim() === '' || priority.trim() === '') {
            alert('Please fill in all fields.');
            return false; // Prevent form submission
        }

        // Add additional custom validation logic here if needed

        // If all checks pass, return true to allow form submission
        return true;
    }
</script>

</body>
</html>
